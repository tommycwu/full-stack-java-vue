<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Result</title>
    <style type="text/css">
        label {
            font-family: Verdana, Arial, Helvetica, sans-serif;
            font-size: 24px;
        }
        center {
            text-align: center;
            justify-content: center;
        }

        done {
            background-color: #009CDD;
        }
    </style>
</head>

<script type="text/javascript" language="javascript">
    var i = 0;

    function displayOne() {
        if (i === 1)
        {
            console.log('displayOne - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations.";
            i = 2;
        }
    }

    function displayTwo() {
        if (i === 2)
        {
            console.log('displayTwo - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations..";
            i = 3;
        }
    }

    function displayThree() {
        if (i === 3)
        {
            console.log('displayThree - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations...";
            i = 4;
        }
    }

    function displayFour() {
        if (i === 4)
        {
            console.log('displayFour - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results.";
            i = 5;
        }
    }

    function displayFive() {
        if (i === 5)
        {
            console.log('displayFive - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results..";
            i = 6;
        }
    }

    function displaySix() {
        if (i === 6)
        {
            console.log('displaySix - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results...";
            i = 7;
        }
    }

    function displaySeven() {
        if (i === 7)
        {
            console.log('displaySeven - ' + Date.now());
            document.getElementById("text").innerText = "Grading.";
            i = 8;
        }
    }

    function displayEight() {
        if (i === 8)
        {
            console.log('displayEight - ' + Date.now());
            document.getElementById("text").innerText = "Grading..";
            i = 9;
        }
    }

    function displayNine() {
        if (i === 9)
        {
            console.log('displayNine - ' + Date.now());
            document.getElementById("text").innerText = "Grading...";
            i = 10;
        }
    }

    function displayTen() {
        if (i === 10)
        {
            console.log('displayTen - ' + Date.now());
            document.getElementById("text").innerText = "Done! Click 'SAVE & SUBMIT EXAM' in the lower right corner to submit your exam for grading.";
            document.getElementById("img").src = "https://i.imgur.com/rM5G8yw.png";
        }
    }

    function sendScore()
    {
        if (i === 0)
        {
            console.log('sendScore - ' + Date.now());
            var xhttp = new XMLHttpRequest();
            xhttp.open('POST', '{async_url}', true);
            xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
            xhttp.send(JSON.stringify({"delivery_id":"{d_Id}"}));
            i = 1;
        }
    }

    function runOnLoad()
    {
        setInterval(sendScore, 1000);
        setInterval(displayOne, 7000);
        setInterval(displayTwo, 13000);
        setInterval(displayThree, 19000);
        setInterval(displayFour, 25000);
        setInterval(displayFive, 31000);
        setInterval(displaySix, 37000);
        setInterval(displaySeven, 43000);
        setInterval(displayEight, 49000);
        setInterval(displayNine, 55000);
        setInterval(displayTen, 61000);
    }

</script>

<body onload="runOnLoad()">
<br><br><br><center><label id="text">Please wait while we score the exam.</label></center><br><br><br>
<div class="done"><center><img width="128" height="128" id="img" src="https://upload.wikimedia.org/wikipedia/commons/7/7a/Ajax_loader_metal_512.gif"/></center>
</div>
</body>
</body>
</html>