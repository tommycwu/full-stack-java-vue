<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Result</title>
    <style type="text/css">
        labelA {
            font-family: Verdana, Arial, Helvetica, sans-serif;
            font-size: 24px;
        }

        labelB {
            font-family: Verdana, Arial, Helvetica, sans-serif;
            font-size: 18px;
            color: #FF0000;
        }

        center {
            text-align: center;
            justify-content: center;
        }

        done {
            background-color: #009CDD;
        }
    </style>
</head>

<script type="text/javascript" language="javascript">
    var i = 0;

    function displayOne() {
        if (i === 1)
        {
            console.log('displayOne - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations.";
            i = 2;
        }
    }

    function displayTwo() {
        if (i === 2)
        {
            console.log('displayTwo - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations..";
            i = 3;
        }
    }

    function displayThree() {
        if (i === 3)
        {
            console.log('displayThree - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations...";
            i = 4;
        }
    }

    function displayFour() {
        if (i === 4)
        {
            console.log('displayFour - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results.";
            i = 5;
        }
    }

    function displayFive() {
        if (i === 5)
        {
            console.log('displayFive - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results..";
            i = 6;
        }
    }

    function displaySix() {
        if (i === 6)
        {
            console.log('displaySix - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results...";
            i = 7;
        }
    }

    function displaySeven() {
        if (i === 7)
        {
            console.log('displaySeven - ' + Date.now());
            document.getElementById("text").innerText = "Grading.";
            i = 8;
        }
    }

    function displayEight() {
        if (i === 8)
        {
            console.log('displayEight - ' + Date.now());
            document.getElementById("text").innerText = "Grading..";
            i = 9;
        }
    }

    function displayNine() {
        if (i === 9)
        {
            console.log('displayNine - ' + Date.now());
            document.getElementById("text").innerText = "Grading...";
            i = 10;
        }
    }

    function displayTen() {
        if (i === 10)
        {
            console.log('displayTen - ' + Date.now());
            document.getElementById("text").innerText = "Done! Click 'SAVE & SUBMIT EXAM' in the lower right corner to submit your exam for grading.";
            document.getElementById("spin").src = "https://i.imgur.com/rM5G8yw.png";
        }
    }

    function sendScore()
    {
        if (i === 0)
        {
            console.log('sendScore - ' + Date.now());
            var xhttp = new XMLHttpRequest();
            xhttp.open('POST', '{async_url}', true);
            xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
            xhttp.send(JSON.stringify({"delivery_id":"{d_Id}"}));
            i = 1;
        }
    }

    function runOnLoad()
    {
        document.getElementById('btnRun').style.backgroundColor="#808080"
        document.getElementById('btnRun').setAttribute("disabled","disabled");
        document.getElementById("btnRun").disabled = true;
        console.log('document.getElementById(btnRun).setAttribute(disabled)');
        document.getElementById('spin').style.visiblity = 'inherit';
        document.getElementById('spin').style.visibility= "visible";
        console.log('document.getElementById(spin).style.visibility=visible');
        document.getElementById("warning").innerText = "";
        document.getElementById("text").innerText = "Beginning grading process...";
        setInterval(sendScore, 1000);
        setInterval(displayOne, 7000);
        setInterval(displayTwo, 14000);
        setInterval(displayThree, 21000);
        setInterval(displayFour, 28000);
        setInterval(displayFive, 35000);
        setInterval(displaySix, 42000);
        setInterval(displaySeven, 49000);
        setInterval(displayEight, 56000);
        setInterval(displayNine, 63000);
        setInterval(displayTen, 70000);
    }

</script>

<body >
    <br><br><br><center><labelB id="warning">If you have not completed the use cases and tasks listed on Page 1, please go back to Page 1 by clicking the button labeled 1 in the upper left concern of this page.</labelB></center><br><br><br>
    <br><br><center><labelA id="text">If you are ready to submit your exam for grading, click the Submit for Grading button below.</labelA></center><br><br><br>
    <center><button id="btnRun" style="color:#ffffff; background-color:#00297A; font-size:20px; border-radius:12px; padding: 12px 50px;"
                    hover="background-color:#0000ff" onclick="runOnLoad()">Submit for Grading</button></center>
    <br>
    <br>
    <div class="done"><center><img id="spin" width="128" height="128" id="img" src="https://upload.wikimedia.org/wikipedia/commons/7/7a/Ajax_loader_metal_512.gif" style="visibility: hidden" /></center>
    </div>
</body>
</html>