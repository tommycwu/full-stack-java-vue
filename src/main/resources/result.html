<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<script type="text/javascript" language="javascript">
    var i = 0;

    function displayOne() {
        console.log('displayOne - ' + Date.now());
        if (i === 0)
        {
            document.getElementById("text").innerText = "Retrieving configurations.";
            i = 1;
        }
    }

    function displayTwo() {
        if (i === 1)
        {
            console.log('displayTwo - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations..";
            i = 2;
        }
    }

    function displayThree() {
        if (i === 2)
        {
            console.log('displayThree - ' + Date.now());
            document.getElementById("text").innerText = "Retrieving configurations...";
            i = 3;
        }
    }

    function displayFour() {
        if (i === 3)
        {
            console.log('displayFour - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results.";
            i = 4;
        }
    }

    function displayFive() {
        if (i === 4)
        {
            console.log('displayFive - ' + Date.now());
            document.getElementById("text").innerText = "Compiling results..";
            i = 5;
        }
    }

    function displaySix() {
        if (i === 5)
        {
            document.getElementById("text").innerText = "";
            i = 6;
        }
    }

    function displaySeven() {
        if (i === 6)
        {
            document.getElementById("text").innerText = "";
            i = 7;
        }
    }

    function displayEight() {
        if (i === 7)
        {
            document.getElementById("text").innerText = "";
            i = 8;
        }
    }

    function displayNine() {
        if (i === 8)
        {
            document.getElementById("text").innerText = "";
            i = 9;
        }
    }

    function displayTen() {
        if (i === 9)
        {
            document.getElementById("text").innerText = "";
            i = 10;
        }
    }

    function sendScore()
    {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        console.log('sendScore - ' + Date.now());
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{async_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}"}));
    }

    function checkScoreOne() {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Compiling results.";
            }
        }
    }

    function checkScoreTwo() {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Compiling results..";
            }
        }
    }

    function checkScoreThree() {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Compiling results...";
            }
        }
    }

    function checkScoreFour() {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Please be patient while we verify the score.";
            }
        }
    }

    function checkScoreFive() {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Please be patient while we verify the score..";
            }
        }
    }

    function checkScoreSix() {
        if (document.getElementById("img").src === "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png"){
            return;
        }
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Please be patient while we verify the score...";
            }
        }
    }

    function checkScoreDone() {
        var xhttp = new XMLHttpRequest();
        xhttp.open('POST', '{status_url}', true);
        xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
        xhttp.send(JSON.stringify({"delivery_id":"{d_Id}", "exam_id":"{e_Id}"}));
        xhttp.onload = () => {
            var responseText = xhttp.responseText;
            console.log(responseText);
            if (responseText === 'done')
            {
                document.getElementById("text").innerText = "Scoring Complete, click 'SAVE & SUBMIT EXAM' on the lower right hand corner to see if you passed.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
            else
            {
                document.getElementById("text").innerText = "Scoring did not complete in a timely manner.  You score will be sent to you when it is done, click 'SAVE & SUBMIT EXAM' on the lower right hand corner but the result you see is not the final result.";
                document.getElementById("img").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Done.png/600px-Done.png";
            }
        }
    }

    function runOnLoad()
    {
        setInterval(displayOne, 5000);
        setInterval(displayTwo, 10000);
        setInterval(displayThree, 15000);
        setInterval(displayFour, 20000);
        setInterval(displayFive, 25000);
        setInterval(sendScore, 30000);
        setInterval(checkScoreOne, 35000);
        setInterval(checkScoreTwo, 40000);
        setInterval(checkScoreThree, 45000);
        setInterval(checkScoreFour, 49000);
        setInterval(checkScoreFive, 53000);
        setInterval(checkScoreSix, 57000);
        setInterval(checkScoreFour, 60000);
        setInterval(checkScoreFive, 63000);
        setInterval(checkScoreSix, 66000);
        setInterval(checkScoreFour, 69000);
        setInterval(checkScoreFive, 72000);
        setInterval(checkScoreSix, 75000);
        setInterval(checkScoreFour, 78000);
        setInterval(checkScoreFive, 80000);
        setInterval(checkScoreSix, 82000);
        setInterval(checkScoreFour, 84000);
        setInterval(checkScoreFive, 86000);
        setInterval(checkScoreSix, 88000);
        setInterval(checkScoreDone, 90000);
    }

</script>

<body onload="runOnLoad()">
<br><br><br><center><label id="text">Please wait while we score the exam.</label></center><br><br><br>
<center><img width="128" height="128" id="img" src="https://upload.wikimedia.org/wikipedia/commons/7/7a/Ajax_loader_metal_512.gif"/></center>
</body>
</body>
</html>